<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@latest/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="../Project/styles/index.css" />

    <script src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/5.1.1/socket.io.js"></script> -->

    <!-- <link rel="" -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              clifford: "#da373d",
              cyber: "#18181b",
            },
          },
        },
      };
    </script>
    <title>Live</title>
</head>
<body>
  <div  class="w-full h-20 text-white z-20 sticky">
    <!-- //Sidebar -->
    <div class="flex h-screen bg-gray-200">
        <aside class="fixed  h-full bg-cyber text-gray-300 w-64 flex flex-col">
            <div class="p-4 border-b border-gray-700">
              <h1 class="text-2xl font-semibold text-white">Zerver</h1>
            </div>
            <nav class="flex-1">
              <a href="#" class="block p-4 hover:bg-gray-700">Dashboard</a>
              <a href="#" class="block p-4 hover:bg-gray-700">Analytics</a>
              <a href="./reportPage.html" class="block p-4 hover:bg-gray-700">Reports</a>
              <a href="#" class="block p-4 hover:bg-gray-700">Settings</a>
            </nav>
            <div class="p-4 border-t border-gray-700">
              <a href="#" class="block hover:text-gray-400">Logout</a>
            </div>
          </aside>
    
    <!-- //headers -->

    <!-- main div -->
    <!-- <div> -->
        <main  class="flex ml-[17%] w-[90%] align-center flex-col">
          <div class="w-full">
            <h1 class="pl-3 py-4 text-2xl font-semibold bg-gray-700">Navbar</h1>
          </div>
            <div class="bg-slate-600 h-full w-full flex ">
              <!-- first -->
                <div class="flex flex-col w-[30%] ">
                  <h1 class="text-white ml-4 mt-4 font-black text-5xl">Logs</h1>
                  <div class="p-4 ml-4 mt-4 border border-gray-700 w-[75%] rounded-md">
                      <p class="text-white"><span class="font-bold">Server :</span> Server ABC</p>
                  </div>
                  <div class="p-4 ml-4 mt-4 border border-gray-700 w-[75%] rounded-md">
                    <p class="text-white">Contents</p>
                  </div>
                  <div class="p-4 ml-4 mt-10 border border-gray-700 w-[75%] rounded-md">
                    <p class="text-white py-2"><span class="font-bold">Ip :</span> 192.168.12.13 </p>
                    <p class="text-white py-2"><span class="font-bold">MAC Address :</span> </p>
                    <p class="text-white py-2"><span class="font-bold">Location : </span></p>
                    <p class="text-white py-2"><span class="font-bold">Temperature : </span></p>
                  </div>
                </div>
                <!-- second top -->
                <div class="flex flex-col w-[70%] ">
                  <div class="flex">
                    <!-- status indicator -->
                    <div class="w-[40%] items-center ">
                      <div id="statusIndicator" class="ml-4 border border-gray-700 rounded-xl mt-20 w-[60%] p-2 text-center bg-red-500 justify-center ">
                        <p id="statusText" class=" py-[20%] font-black text-2xl">OFF</p>
                    </div>
                    <p class="text-white">Last Online : 06-Dec-2023 16:05</p>
                    <div class="mt-[10%] flex">
                      <div class="py-5 items-center justify-center border border-gray-200 rounded-md w-[30%] flex flex-col">
                          <p class="text-white">Requests</p>
                          <h1 id="requestCount" class="text-green-500 font-[1100] text-4xl">2000</h1>
                      </div>
                      <script>
                        $(document).ready(function() {
                            // Connect to the Socket.IO server
                            var socket = io.connect('http://localhost:5000/value');
                
                            // Handle incoming realtime data
                            socket.on('realtime_data', function(data) {
                                // Update the content of the container with the new data
                                $('#requestCount').text('Realtime Data: ' + data.data);
                            });
                
                            // Initial update
                            socket.emit('connect'); // Trigger the 'connect' event to start receiving data
                        });
                    </script>
                  
                      <div class="py-5 ml-[10%] border border-gray-700 w-[30%]">
                        <p class="text-white">Dummy</p>
                      </div>
                    </div>
                    </div>
                    <!-- third -->
                    <div class="w-[60%] float-right ">
                      <!-- graph -->
                      <div class="mt-5 " id="chart-container" style="width: 500px; height: 350px"></div>
                    </div>
                  </div> 
                  <div class="my-10 mr-10 ">
                    <p class="font-bold text-white">Summary</p>
                    <div class="p-10 h-[200px] bg-gradient-to-r from-[#0F1A29] to-[#0E2E4E] border border-gray-700 rounded-xl w[30%]">
                      <p class="text-white">The Performance of the Server is 90%</p>
                      <p class="text-white">The health condition looks good</p>
                    </div>
                  </div>
                </div>
              </div>
              <!-- log table -->
              <div class="bg-indigo-500 h-[60%]">
                <p class="text-white ml-4 mt-4 font-black text-5xl">Log table</p>

                <!--  -->
                <!-- Search Functionality -->
                <div class="flex mt-4 text-black bg-black">
                  <label for="searchColumn" class="mr-2">Search By:</label>
                  <select id="searchColumn" class="border border-gray-700 bg-indigo-500  p-2">
                    <option class="text-red" value="search">Drop Down</option>
                    <option class="text-red" value="all">All</option>
                      <option class="text-red" value="log_id">Log ID</option>
                      <option value="log_time">Log Time</option>
                      <option value="timestamp">Timestamp</option>
                      <option value="ip_address">IP Address</option>
                      <option value="http_method">HTTP Method</option>
                      <option value="request_url">Request URL</option>
                      <option value="status_code">Status Code</option>
                  </select>
                  <input type="text" id="search" class="border border-gray-700 p-2 ml-2 text-black" placeholder="Search...">
              </div>
              <div>
                <table id="logTable" class="w-full mt-4 bg-white shadow-md overflow-hidden bg-gray-500 border border-gray-700">
                  <thead class="bg-gray-200">
                      <tr>
                          <th class="py-2 px-4 border-b text-left">Log ID</th>
                          <th class="py-2 px-4 border-b text-left">Log Time</th>
                          <th class="py-2 px-4 border-b text-left">Timestamp</th>
                          <th class="py-2 px-4 border-b text-left">IP Address</th>
                          <th class="py-2 px-4 border-b text-left">HTTP Method</th>
                          <th class="py-2 px-4 border-b text-left">Request URL</th>
                          <th class="py-2 px-4 border-b text-left">Status Code</th>
                      </tr>
                  </thead>
                  <tbody class="bg-gray-700" id="logTableBody">
                      <!-- Data will be populated here dynamically using JavaScript -->
                  </tbody>
              </table>
              </div>
              </div>
        </main>
    </div>
  </div>

  <!-- script for on off function -->
  <script src="./js/liveDashboard/onOff.js"></script>
  <script src="./js/liveDashboard/liveGraph.js"></script>
  <script src="./js/liveDashboard/logTableScript.js"></script>
</body>
</html>